<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Plasma Wall - Fixed Input</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen text-white overflow-hidden relative" style="background: linear-gradient(135deg, #0a0a0a, #1a3b2e, #0f2922, #1a3b2e, #0a0a0a);">

<!-- Enhanced Cosmic Background -->
<div class="absolute inset-0 overflow-hidden pointer-events-none">
    <!-- Main spinning portal -->
    <div class="spinning-portal absolute inset-0 flex items-center justify-center">
        <div class="interstellar-ring-outer"></div>
        <div class="interstellar-ring-main"></div>
        <div class="interstellar-ring-inner"></div>
    </div>
    
    <!-- Dynamic energy particles -->
    <div class="energy-field absolute inset-0"></div>
    
    <!-- Floating plasma orbs -->
    <div class="plasma-orbs absolute inset-0">
        <div class="plasma-orb orb-1"></div>
        <div class="plasma-orb orb-2"></div>
        <div class="plasma-orb orb-3"></div>
        <div class="plasma-orb orb-4"></div>
        <div class="plasma-orb orb-5"></div>
        <div class="plasma-orb orb-6"></div>
    </div>
    
    <!-- Moving matrix grid -->
    <div class="matrix-grid absolute inset-0"></div>
    
    <!-- Scanning lines -->
    <div class="scan-lines absolute inset-0"></div>
</div>

<!-- Futuristic Header -->
<header class="relative z-20 text-center py-8 pointer-events-none">
    <h1 class="text-5xl font-bold text-white mb-2 cyber-glow animate-cyber-pulse">
        PLASMA HALL OF FAME ðŸ•Š
    </h1>
    <p class="text-xl text-green-300 font-medium matrix-text">
        Submit your X handle. Join the Stablecoin supercycle ðŸ•Š
    </p>
    <div class="mt-2 text-sm text-green-400 pulse-fade" id="liveCounter">
        Loading quantum legends...ðŸ•Š
    </div>
</header>

<!-- Enhanced Input Section - FIXED Z-INDEX -->
<div class="relative z-30 flex flex-col items-center justify-center px-4 mb-8 pointer-events-auto">
    <!-- Main Input Section -->
    <div class="input-matrix flex items-center gap-4 max-w-5xl w-full">
        <div class="input-wrapper flex-1 relative">
            <input 
                type="text" 
                id="usernameInput" 
                placeholder="ðŸ” Type to search or add new handle..." 
                class="w-full px-8 py-5 rounded-2xl text-white bg-black/80 border-2 border-green-500/50 focus:outline-none focus:border-green-400 focus:ring-2 focus:ring-green-400/50 text-lg backdrop-blur-lg cyber-input transition-all duration-300 relative z-10"
            >
            <div class="input-glow absolute inset-0 rounded-2xl opacity-0 transition-opacity duration-300 pointer-events-none"></div>
        </div>
        <button 
            id="actionBtn" 
            class="px-10 py-5 bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 rounded-2xl font-bold text-lg cyber-button transform hover:scale-105 transition-all duration-300 shadow-lg relative z-10"
        >
            <span class="relative z-10">ADD USER</span>
        </button>
        <button 
            id="clearBtn" 
            class="px-8 py-5 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 rounded-2xl font-medium text-lg cyber-button-search transform hover:scale-105 transition-all duration-300 relative z-10"
        >
            <span class="relative z-10">SHOW ALL</span>
        </button>
    </div>
    
    <!-- Search Results Counter -->
    <div id="searchResults" class="mt-3 text-center text-blue-300 search-counter opacity-0 transition-opacity duration-300">
        
    </div>
    
    <div class="flex gap-4 mt-6">
        <button 
            id="musicToggle" 
            class="px-8 py-3 bg-gradient-to-r from-green-800 to-green-700 hover:from-green-700 hover:to-green-600 rounded-xl font-medium transition-all duration-300 cyber-button-small relative z-10"
        >
            ðŸŽµ Activate Audio
        </button>
        <button 
            id="syncBtn" 
            class="px-8 py-3 bg-gradient-to-r from-blue-800 to-blue-700 hover:from-blue-700 hover:to-blue-600 rounded-xl font-medium transition-all duration-300 cyber-button-small relative z-10"
        >
            ðŸ”„ Sync
        </button>
    </div>
    
    <div id="connectionStatus" class="mt-4 text-center text-green-300 status-text">
        Quantum connection ready...ðŸ•Š
    </div>
</div>

<!-- Enhanced Plasma Wall Container -->
<div class="relative z-20 px-4 pb-8">
    <div class="plasma-container bg-black/50 backdrop-blur-xl rounded-3xl p-8 border-2 border-green-500/30 max-w-8xl mx-auto overflow-hidden shadow-2xl">
        <div id="userCount" class="text-center text-green-200 mb-8 text-xl font-semibold cyber-text">
            Scanning network... ðŸš€
        </div>
        
        <!-- Enhanced Moving Wall -->
        <div class="plasma-wall-container relative h-[450px] overflow-hidden rounded-2xl border border-green-500/20">
            <div id="movingWall" class="plasma-wall absolute top-0 left-0 flex items-center gap-6 py-6"></div>
            
            <!-- Wall overlay effects -->
            <div class="wall-overlay absolute inset-0 pointer-events-none">
                <div class="scan-line absolute w-full h-1 bg-gradient-to-r from-transparent via-green-400 to-transparent opacity-60"></div>
            </div>
        </div>
        
        <div class="flex justify-between items-center mt-6 text-sm">
            <div class="text-green-400 matrix-signature">
                Neural Network: ACTIVE
            </div>
            <div class="text-green-400">
                Architect: @aabis
            </div>
        </div>
    </div>
</div>

<style>
:root {
    --neon-green: #00ff41;
    --dark-green: #22c55e;
    --matrix-green: #16a34a;
    --deep-green: #15803d;
    --cyber-black: #0a0a0a;
}

/* Spinning portal effects */
.interstellar-ring-outer {
    width: 600px;
    height: 600px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: 3px solid transparent;
    border-radius: 50%;
    background: conic-gradient(from 0deg, transparent 0deg, var(--neon-green) 5deg, transparent 10deg);
    animation: spinSlow 25s linear infinite;
    opacity: 0.4;
}

.interstellar-ring-main {
    width: 400px;
    height: 400px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: 2px solid transparent;
    border-radius: 50%;
    background: conic-gradient(from 180deg, transparent 0deg, var(--dark-green) 15deg, transparent 30deg);
    animation: spinMedium 15s linear infinite;
    opacity: 0.6;
}

.interstellar-ring-inner {
    width: 200px;
    height: 200px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: 2px solid rgba(0, 255, 65, 0.5);
    border-radius: 50%;
    animation: spinFast 8s linear infinite reverse;
    box-shadow: 0 0 30px rgba(0, 255, 65, 0.3);
}

@keyframes spinSlow { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }
@keyframes spinMedium { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }
@keyframes spinFast { from { transform: translate(-50%, -50%) rotate(360deg); } to { transform: translate(-50%, -50%) rotate(0deg); } }

/* Energy field */
.energy-field {
    background: radial-gradient(circle at 20% 30%, rgba(0, 255, 65, 0.15) 0%, transparent 50%);
    animation: energyPulse 12s ease-in-out infinite;
}

@keyframes energyPulse {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
}

/* Plasma orbs */
.plasma-orb {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(circle, var(--neon-green), rgba(0, 255, 65, 0.3), transparent);
    animation: plasmaDrift 15s ease-in-out infinite;
}

.orb-1 { width: 25px; height: 25px; top: 15%; left: 10%; animation-delay: 0s; }
.orb-2 { width: 20px; height: 20px; top: 25%; right: 15%; animation-delay: -3s; }
.orb-3 { width: 30px; height: 30px; bottom: 25%; left: 20%; animation-delay: -6s; }
.orb-4 { width: 18px; height: 18px; top: 60%; right: 25%; animation-delay: -9s; }
.orb-5 { width: 22px; height: 22px; bottom: 40%; right: 10%; animation-delay: -12s; }
.orb-6 { width: 28px; height: 28px; top: 40%; left: 5%; animation-delay: -15s; }

@keyframes plasmaDrift {
    0%, 100% { transform: translate(0, 0); }
    25% { transform: translate(30px, -40px); }
    50% { transform: translate(-20px, -80px); }
    75% { transform: translate(-40px, 30px); }
}

/* Matrix grid */
.matrix-grid {
    background-image: 
        linear-gradient(rgba(0, 255, 65, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 65, 0.1) 1px, transparent 1px);
    background-size: 80px 80px;
    animation: gridFlow 30s linear infinite;
    opacity: 0.2;
}

@keyframes gridFlow {
    0% { transform: translate(0, 0); }
    100% { transform: translate(80px, 80px); }
}

/* Typography */
.cyber-glow {
    text-shadow: 0 0 5px var(--neon-green), 0 0 10px var(--neon-green), 0 0 15px var(--neon-green);
}

.animate-cyber-pulse {
    animation: cyber-pulse 2s ease-in-out infinite;
}

@keyframes cyber-pulse {
    0%, 100% { text-shadow: 0 0 5px var(--neon-green); }
    50% { text-shadow: 0 0 20px var(--neon-green); }
}

.matrix-text {
    font-family: 'Courier New', monospace;
    text-shadow: 0 0 8px var(--dark-green);
}

.pulse-fade {
    animation: pulseFade 3s ease-in-out infinite;
}

@keyframes pulseFade {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
}

/* Input styling */
.cyber-input {
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(10, 10, 10, 0.95));
    box-shadow: 0 0 20px rgba(0, 255, 65, 0.2);
    font-family: 'Courier New', monospace;
}

.cyber-input:focus {
    box-shadow: 0 0 30px rgba(0, 255, 65, 0.4);
}

.cyber-button {
    background: linear-gradient(135deg, var(--dark-green), var(--matrix-green));
    box-shadow: 0 0 20px rgba(0, 255, 65, 0.3);
    text-shadow: 0 0 8px rgba(0, 0, 0, 0.8);
}

.cyber-button-search {
    background: linear-gradient(135deg, #1e40af, #3b82f6);
    box-shadow: 0 0 20px rgba(0, 123, 255, 0.3);
    text-shadow: 0 0 8px rgba(0, 0, 0, 0.8);
}

.cyber-button-small {
    background: linear-gradient(135deg, var(--deep-green), var(--matrix-green));
    box-shadow: 0 0 15px rgba(0, 255, 65, 0.2);
}

/* Wall container */
.plasma-container {
    box-shadow: 0 0 50px rgba(0, 255, 65, 0.1);
}

/* Plasma wall */
.plasma-wall {
    width: max-content;
    animation: plasmaFlow 60s linear infinite;
    padding: 20px 0;
}

@keyframes plasmaFlow {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); }
}

/* Avatar cards */
.avatar-card {
    flex-shrink: 0;
    width: 140px;
    height: 140px;
    position: relative;
    transition: all 0.5s ease;
}

.avatar-card:hover {
    transform: scale(1.1) translateY(-10px);
}

.avatar-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 20px;
    border: 3px solid var(--dark-green);
    box-shadow: 0 0 30px rgba(0, 255, 65, 0.4);
    background: var(--matrix-green);
}

.handle-display {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 8px 12px;
    font-size: 12px;
    font-weight: bold;
    text-align: center;
    font-family: 'Courier New', monospace;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(34, 197, 94, 0.3));
    border-radius: 0 0 16px 16px;
    border: 2px solid var(--dark-green);
    border-top: none;
    text-shadow: 0 0 5px rgba(0, 255, 65, 0.8);
}

.search-highlight {
    animation: searchPulse 2s ease-in-out infinite;
}

@keyframes searchPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.search-highlight .avatar-img {
    border-color: #3b82f6;
    box-shadow: 0 0 30px rgba(0, 123, 255, 0.6);
}

.search-highlight .handle-display {
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.95), rgba(0, 123, 255, 0.2));
    border-color: #3b82f6;
    color: #3b82f6;
}

.status-text {
    font-family: 'Courier New', monospace;
    text-shadow: 0 0 8px var(--dark-green);
}

.cyber-text {
    font-family: 'Courier New', monospace;
    text-shadow: 0 0 10px var(--neon-green);
}

.matrix-signature {
    font-family: 'Courier New', monospace;
    font-size: 12px;
    opacity: 0.8;
}

@media (max-width: 768px) {
    .input-matrix {
        flex-direction: column;
        gap: 16px;
    }
    
    .input-wrapper {
        width: 100%;
    }
    
    .avatar-card {
        width: 120px;
        height: 120px;
    }
}
</style>

<script>
// Default users
const DEFAULT_USERS = [
    'proofofnathan', 'scene999', 'MaxApoz', 'shadowofthefax',
    'primay_eth', 'kolyposts', 'CATTtwit', 'The9bo', 'ImFaziiii'
];

let allUsers = [...DEFAULT_USERS];
let currentSearchTerm = '';
let isSearchMode = false;

// DOM elements
const usernameInput = document.getElementById('usernameInput');
const clearBtn = document.getElementById('clearBtn');
const searchResults = document.getElementById('searchResults');
const actionBtn = document.getElementById('actionBtn');
const syncBtn = document.getElementById('syncBtn');
const movingWall = document.getElementById('movingWall');
const musicToggle = document.getElementById('musicToggle');
const connectionStatus = document.getElementById('connectionStatus');
const userCount = document.getElementById('userCount');
const liveCounter = document.getElementById('liveCounter');

// Create avatar card
function createAvatarCard(username) {
    const card = document.createElement('div');
    card.className = 'avatar-card';
    card.dataset.username = username;
    
    const img = document.createElement('img');
    img.className = 'avatar-img';
    img.alt = username;
    
    const overlay = document.createElement('div');
    overlay.className = 'handle-display';
    overlay.textContent = `@${username}`;
    
    card.appendChild(img);
    card.appendChild(overlay);
    
    // Try to load avatar
    const avatarUrl = `https://unavatar.io/twitter/${username}?fallback=https://ui-avatars.com/api/?name=${username.charAt(0).toUpperCase()}&background=00ff41&color=000000&size=140&bold=true`;
    img.src = avatarUrl;
    
    return card;
}

// Display wall
function displayPlasmaWall(usersToDisplay = null) {
    const displayUsers = usersToDisplay || allUsers;
    console.log('Displaying', displayUsers.length, 'users');
    
    movingWall.innerHTML = '';
    
    displayUsers.forEach((username, index) => {
        setTimeout(() => {
            const card = createAvatarCard(username);
            if (currentSearchTerm && username.toLowerCase().includes(currentSearchTerm.toLowerCase())) {
                card.classList.add('search-highlight');
            }
            movingWall.appendChild(card);
        }, index * 50);
    });
    
    // Duplicate for seamless loop
    setTimeout(() => {
        displayUsers.forEach((username, index) => {
            setTimeout(() => {
                const card = createAvatarCard(username);
                if (currentSearchTerm && username.toLowerCase().includes(currentSearchTerm.toLowerCase())) {
                    card.classList.add('search-highlight');
                }
                movingWall.appendChild(card);
            }, index * 50);
        });
    }, displayUsers.length * 50 + 500);
    
    updateCounters(displayUsers);
}

function updateCounters(displayUsers) {
    if (currentSearchTerm) {
        userCount.textContent = `${displayUsers.length} of ${allUsers.length} Users Found`;
        liveCounter.textContent = `Search Results: ${displayUsers.length} matches`;
    } else {
        userCount.textContent = `${allUsers.length} Users Active`;
        liveCounter.textContent = `Network: ${allUsers.length} users online`;
    }
}

// Search function
function performSearch(searchTerm) {
    currentSearchTerm = searchTerm.toLowerCase().trim();
    console.log('Searching for:', currentSearchTerm);
    
    if (!currentSearchTerm) {
        showAllUsers();
        return;
    }
    
    const filteredUsers = allUsers.filter(username => 
        username.toLowerCase().includes(currentSearchTerm)
    );
    
    isSearchMode = true;
    actionBtn.innerHTML = '<span>ADD USER</span>';
    
    if (filteredUsers.length === 0) {
        searchResults.textContent = `No users found for "${currentSearchTerm}"`;
        searchResults.className = 'mt-3 text-center text-red-400 opacity-100';
    } else {
        searchResults.textContent = `${filteredUsers.length} user(s) found`;
        searchResults.className = 'mt-3 text-center text-blue-300 opacity-100';
    }
    
    displayPlasmaWall(filteredUsers);
}

function showAllUsers() {
    currentSearchTerm = '';
    isSearchMode = false;
    actionBtn.innerHTML = '<span>ADD USER</span>';
    searchResults.style.opacity = '0';
    displayPlasmaWall();
}

// Add user function
function addUser() {
    const inputValue = usernameInput.value.trim();
    const cleanUsername = inputValue.replace('@', '').replace(/[^a-zA-Z0-9_]/g, '');
    
    if (!cleanUsername) {
        alert('Please enter a username');
        return;
    }
    
    if (allUsers.includes(cleanUsername)) {
        alert('User already exists!');
        usernameInput.value = cleanUsername;
        performSearch(cleanUsername);
        return;
    }
    
    console.log('Adding user:', cleanUsername);
    allUsers.push(cleanUsername);
    usernameInput.value = '';
    displayPlasmaWall();
    showAllUsers();
}

// Event listeners
actionBtn.addEventListener('click', addUser);

usernameInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
        addUser();
    }
});

let searchTimeout;
usernameInput.addEventListener('input', (e) => {
    const value = e.target.value.trim();
    
    if (searchTimeout) {
        clearTimeout(searchTimeout);
    }
    
    searchTimeout = setTimeout(() => {
        if (value) {
            performSearch(value);
        } else {
            showAllUsers();
        }
    }, 300);
});

clearBtn.addEventListener('click', () => {
    usernameInput.value = '';
    showAllUsers();
});

musicToggle.addEventListener('click', () => {
    console.log('Music toggle clicked');
});

syncBtn.addEventListener('click', () => {
    console.log('Sync clicked');
    displayPlasmaWall();
});

// Initialize
console.log('Initializing...');
displayPlasmaWall();
connectionStatus.textContent = 'Ready - Type to search, Enter to add!';
</script>

</body>
</html>
